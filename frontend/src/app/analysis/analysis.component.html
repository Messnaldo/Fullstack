<nav class="navbar navbar-expand-sm  navbar-light sticky-top" style="background-color: #FBFFFE;">
  <div class="container-fluid">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active">SENTIMENT</a>
      </li>
    </ul>
    <div class="dropdown">
      <button class="btn btn-primary custom-dropdown-toggle" type="button" id="dropdownMenuButton" 
      data-bs-toggle="dropdown" aria-expanded="false" >
        PO
      </button>
      <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownMenuButton">
        <li><a (click)="logout()" class="dropdown-item" style="text-align: center;" href="#"style="color: #03045E; font-size:22px;">Log Out</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid white-background" style="background-color: #f6f6f6;">
  <div class="row">
    <div  class="col-sm-auto  sticky-top sticky-sidebar " style="position: fixed; margin-top: 85px; background-color: #FBFFFE; width: 90px;">
      <div class="d-flex flex-sm-column flex-row flex-nowrapalign-items-center sticky-top">
        <a  class="d-block p-3 link-dark text-decoration-none" title="" data-bs-toggle="tooltip" data-bs-placement="right" 
        data-bs-original-title="Icon-only">
          <i class="bi-bootstrap fs-1"></i>
        </a>
        <ul class="nav nav-pills nav-flush flex-sm-column flex-row flex-nowrap mb-auto mx-auto text-center align-items-center">
          <li>
            <a routerLink="/analysis" class="nav-link py-3 px-2 btn btn-outline-primary text-center" 
            style="color: white; background: #0077B6; 
            width: 50px; height: 50px; box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08); 
            display: flex; align-items: center; justify-content: center;font-family: 'Inter', sans-serif;" title="" data-bs-toggle="tooltip" 
            data-bs-placement="right" data-bs-original-title="search">
              <span class="material-symbols-outlined" style="font-size: 40px; margin-left: 5px;">
                search
              </span>
            </a>
          </li>
          
          <li >
            <a routerLink="/search" routerLinkActive="active" ariaCurrentWhenActive="page" href="#"
             class="nav-link py-3 px-2 btn btn-outline-primary text-center" style="background: #FBFFFE; border: none;" 
              title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="search">
              <div style="text-align: center; color: #9D9D9D;width: 50px; height: 50px; font-weight: semi-bold; font-family: 'Inter', sans-serif;font-size: 14px;">
                <span class="material-symbols-outlined" style="width: 50px;font-size: 40px; font-weight: semi-bold;">
                  manage_search
                </span>
                <br>
                Test
              </div>
            </a>
          </li>
          <li *ngIf="isAdmin">
            <a routerLink="/label" routerLinkActive="active" ariaCurrentWhenActive="page" href="#" 
             class="nav-link py-3 px-2 btn btn-outline-primary text-center" style="background: #FBFFFE; 
             border: none;font-family: 'Inter', sans-serif;"
             title="" data-bs-toggle="tooltip"
             data-bs-placement="right" data-bs-original-title="label">
              <div style="text-align: center; color: #9D9D9D;font-weight: semi-bold; font-size: 14px;">
                <span class="material-symbols-outlined" style="font-size: 40px;font-weight: semi-bold;"  >
                  label
                </span>
                <br>
                Label
              </div>
            </a>
          </li>
          <li *ngIf="isAdmin">
            <a routerLink="/flow" routerLinkActive="active" ariaCurrentWhenActive="page" href="#" class="nav-link py-3 px-2 btn btn-outline-primary text-center" 
            title="" data-bs-toggle="tooltip" data-bs-placement="right" style="background: #FBFFFE; border: none; font-family: 'Inter', sans-serif;" 
            data-bs-original-title="label">
              <div style="text-align: center; color: #9D9D9D; font-weight: semi-bold; font-size: 14px;">
                <span class="material-symbols-outlined"style="font-size: 40px;font-weight: semi-bold;">
                  tune
                </span>
                <br>
                Control
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>
<!--min-vh-100-->
    <div class="col-sm p-3 custom-background center-content " style="margin-top: 80px;">
      <div class="p-5 text-center custom-background" >
        <button class="inactive-button">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPYK38XK2L6Q5FXvjwh2PvHdqG7JGLWNA64g&s"
           alt="Image" class="button-image">
          <span class="button-text">TWITTER (X)</span>
        </button>
        <div class="search" style="  font-family: 'Inter', sans-serif; ">
          <p style="font-size: 35px; margin-top: 50px;">SEARCH BY</p>
   
<input 
  [ngStyle]="{'font-size': fontSize}" 
  type="text" 
  class="custom-inputnaja"
  [(ngModel)]="displayHashtag" 
  (keydown)="onkeydown($event)"
  (input)="onInput($event)"
>
  <div class="result-container" style="gap: 200px;">
          <p style="margin-top: -30px; font-size: 35px; width: 1200px; gap: 20px;
          ">RESULTS <span class="highlight" style="color: #0077B6; font-size: 55px; gap: 20px;  vertical-align: middle;">{{ sample_data.length }}</span> MESSAGES</p>
          </div>
        </div>
        <div class="Emoji" style="margin-top: 30px;"> <!-- *ngIf="posts.length > 0" -->
          <button class="inactive-button"  style="margin-top: 40px; "
            *ngFor="let sentiment of ['Positive', 'Neutral', 'Negative']">
            <img [src]="getEmojiUrl(sentiment)" [ngStyle]="getStyleForSentiment(sentiment)"style=""alt="{{ sentiment }}" class="button-image">
            <span class="button-text" style="color: #0077B6;">{{ getSentimentPercentage(sentiment) }}%</span>
          </button>
        </div>
      </div>

      <div class="container mt-3" style="width: 1900px; margin-top: 20px;" *ngIf="sample_data.length > 0">
        <div class="row"  >
          <!-- Positive Posts -->
          <div class="col-sm-4" >
            <div class="card mb-3 sentiment-card"style="border-radius: 20px;border:none" >
                <div class="card-body sentiment-card-body"[class.expanded]="expanded['Positive']">
                    <div class="fixed-header">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title" style="font-size: 35px;">Positive</h5>
                            <h3 style="color: #0077B6; font-size: 45px;margin-right: 15px;">{{ sentimentCounts.Positive }}</h3>
                        </div>
                    </div>
                    <div class="scrollable-content sentiment-container" [class.expanded]="expanded['Positive']">
                        <div class="card mb-3" *ngFor="let post of getFilteredPosts(1)">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="inside">
                                      <img src="comment.png" alt="comment" style="width: 55px; height: 55px; ">
                                    </div>
                                    <div class="ms-3">
                                        <p class="mb-0" style="text-align: left; color: #9D9D9D;">{{ post.text }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <button class="btn btn-primary" style="border: none; background-color: white; color: #90E0EF;" (click)="toggleExpand('Positive')">
                        See More
                    </button>
                </div>
            </div>
        </div>
        
        <div class="col-sm-4">
            <div class="card mb-3 sentiment-card"style="border-radius: 20px;border:none">
                <div class="card-body py-0 sentiment-card-body" [class.expanded]="expanded['Neutral']">
                    <div class="fixed-header">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title" style="font-size: 35px;">Neutral</h5>
                            <h3 style="color: #0077B6; font-size: 45px;margin-right: 15px;">{{ sentimentCounts.Neutral }}</h3>
                        </div>
                    </div>
                    <div class="scrollable-content sentiment-container" [class.expanded]="expanded['Neutral']">
                        <div class="card mb-3" *ngFor="let post of getFilteredPosts(0)">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="inside">
                                      <img src="comment.png" alt="comment" style="width: 55px; height: 55px; ">

                                    </div>
                                    <div class="ms-3">
                                        <p class="mb-0" style="text-align: left; color: #9D9D9D;">{{ post.text }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <button class="btn btn-primary" style="border: none; background-color: white; color: #90E0EF;" (click)="toggleExpand('Neutral')">
                        See More
                    </button>
                </div>
            </div>
        </div>
        
        <div class="col-sm-4">
            <div class="card mb-3 sentiment-card"style="border-radius: 20px; border:none">
                <div class="card-body sentiment-card-body" [class.expanded]="expanded['Negative']">
                    <div class="fixed-header">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title" style="font-size: 35px;">Negative</h5>
                            <h3 style="color: #0077B6; font-size: 45px;margin-right: 15px;">{{ sentimentCounts.Negative }}</h3>
                        </div>
                    </div>
                    <div class="scrollable-content sentiment-container" [class.expanded]="expanded['Negative']">
                        <div class="card mb-3" *ngFor="let post of getFilteredPosts(-1)">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="inside">
                                      <img src="comment.png" alt="comment" style="width: 55px; height: 55px; ">

                                    </div>
                                    <div class="ms-3">
                                        <p class="mb-0" style="text-align: left; color: #9D9D9D;">{{ post.text }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <button class="btn btn-primary" style="border: none; background-color: white; color: #90E0EF;" (click)="toggleExpand('Negative')">
                        See More
                    </button>
                </div>
            </div>
        </div>
        
      <ng-template #noPosts>
        <div class="container mt-5">
          <div class="row">
            <div class="col-sm-4">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <h5 class="card-title">Positive</h5>
                    <h3 style="color: #0077B6; font-size: 45px;">0</h3>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <h5 class="card-title">Neutral</h5>
                    <h3 style="color: #0077B6; font-size: 45px;">0</h3>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <h5 class="card-title">Negative</h5>
                    <h3 style="color: #0077B6; font-size: 45px;">0</h3>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</div>
